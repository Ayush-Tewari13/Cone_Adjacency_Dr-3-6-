
$p = hypersimplex(4,8);

$points = $p->VERTICES;

print is_regular($points,[[0,1,2,3,4,5,6,7,8,15,16,17,18,35,36,37,38],[1,2,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,35,36,37,38,39,40,41],[5,6,7,8,9,10,11,15,16,17,18,19,20,21,25,26,27,35,36,37,38,39,40,41,45,46,47],[6,7,8,9,10,11,12,13,14,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69],[15,16,17,18,25,26,27,35,36,37,38,45,46,47,55,56,57]]);

######################this is a matroidal subdivision 


$wt = is_regular($points,[[0,1,2,3,4,5,6,7,8,15,16,17,18,35,36,37,38],[1,2,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,35,36,37,38,39,40,41],[5,6,7,8,9,10,11,15,16,17,18,19,20,21,25,26,27,35,36,37,38,39,40,41,45,46,47],[6,7,8,9,10,11,12,13,14,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69],[15,16,17,18,25,26,27,35,36,37,38,45,46,47,55,56,57]]);

#####################################weight inducing this matroidal subdivision

0 0 0 0 0 0 0 0 0 1/3 1/3 1/3 2/3 2/3 2/3 0 0 0 0 1/3 1/3 1/3 2/3 2/3 2/3 2/3 2/3 2/3 1 1 1 4/3 4/3 4/3 5/3 0 0 0 0 1/3 1/3 1/3 2/3 2/3 2/3 2/3 2/3 2/3 1 1 1 4/3 4/3 4/3 5/3 2/3 2/3 2/3 1 1 1 4/3 4/3 4/3 5/3 5/3 5/3 5/3 2 7/3

#############################################weight vector for hypersimplex (3,7) obtained by considering the contraction facet x_{1} = 1 


$wt1 = new Vector<Rational>([0,0,0,0,0,0,0,0,0,1/3,1/3,1/3,2/3,2/3,2/3,0,0,0,0,1/3,1/3,1/3,2/3,2/3,2/3,2/3,2/3,2/3,1,1,1,4/3,4/3,4/3,5/3]);


#############################################matroidal subdivision of (3,7) 

$p1 = hypersimplex(3,7);

$points1 = $p1->VERTICES;

$S = new fan::SubdivisionOfPoints(POINTS=>$points1,WEIGHTS=>$wt1);

print rows_labeled($S->MAXIMAL_CELLS,undef,["123","124","125","126","127","134","135","136","137","145","146","147","156","157","167","234","235","236","237","245","246","247","256","257","267","345","346","347","356","357","367","456","457","467","567"]);


0:135 136 137 145 146 147 156 157 167 235 236 237 245 246 247 256 257 267 345 346 347 356 357 367 456 457 467 567
1:125 126 127 135 136 137 145 146 147 156 157 167 235 236 237 245 246 247 256 257 267
2:124 125 126 127 134 135 136 137 145 146 147 234 235 236 237 245 246 247
3:134 135 136 137 145 146 147 234 235 236 237 245 246 247 345 346 347
4:123 124 125 126 127 134 135 136 137 234 235 236 237

#####################################Function to verify matroidal subdivision (inspired from a polymake-forum question (https://forum.polymake.org/viewtopic.php?t=568))

sub matroidal {
  my ($edges)=@_;
  foreach my $vector (@$edges) {
     if (1 != grep { $_ == 1 } @$vector or
         1 != grep { $_ == -1 } @$vector or
         2 != grep { $_ != 0 } @$vector) {
         return 0;  # false
     }
  }
  return 1; # true
}


